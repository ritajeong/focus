![waving](https://capsule-render.vercel.app/api?type=waving&height=200&text=Focus:on-your-presentation&fontSize=50&fontAlignY=35&color=gradient)

## ğŸ‘¨â€ğŸ« FOCUS
### í”„ë¡œì íŠ¸ ì†Œê°œ
  * https://i5a107.p.ssafy.io
  * [Notion ê°œë°œ WIKI](https://www.notion.so/7-FOCUS-a4db4765db0d47059f1a743e2e87347c)
  * ```FOCUS``` ëŠ” ì˜¨ë¼ì¸ ë°œí‘œí™˜ê²½ê³¼ ì˜¤í”„ë¼ì¸ ë°œí‘œ í™˜ê²½ì˜ ì°¨ì´ë¥¼ ì¤„ì´ê¸° ìœ„í•´ í™”ìƒì˜ìƒì— ë°œí‘œìë£Œë¥¼ í•¨ê»˜ ë„ì›Œì„œ ì œì–´í•˜ëŠ” ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤.

### ì£¼ìš” ê¸°ëŠ¥
  * ë°œí‘œìë£Œ ì œì–´
      * ë°œí‘œìëŠ” ë°© ì •ë³´ í˜ì´ì§€ì—ì„œ ë°œí‘œìë£Œë¥¼ __ì—…ë¡œë“œ__ í•  ìˆ˜ ìˆë‹¤.
      * ë°œí‘œìëŠ” ë¯¸íŒ…ë£¸ì—ì„œ ë°œí‘œìë£Œë¥¼ ì„ íƒí•  ìˆ˜ ìˆë‹¤.
      * ë°œí‘œìëŠ” ë¯¸íŒ…ë£¸ì—ì„œ ë°œí‘œìë£Œì˜ __ì• ë‹ˆë©”ì´ì…˜__ ì„ ì„ íƒí•  ìˆ˜ ìˆë‹¤.
      * ë°œí‘œìëŠ” ë¯¸íŒ…ë£¸ì—ì„œ ë°œí‘œìë£Œë¥¼ ë„˜ê¸¸ ìˆ˜ ìˆë‹¤.
  * ëŒ€ì‹œë³´ë“œ
      * ë°©ì€ Now, Future, Historyë¡œ êµ¬ë¶„ëœë‹¤.
      * Now ê·¸ë£¹ì€ __ì‹œì‘ì‹œê°„ < í˜„ì¬ì‹œê°„__ ì¸ ë°© ëª©ë¡ì„ ë³´ì—¬ì¤€ë‹¤.
      * Future ê·¸ë£¹ì€ __í˜„ì¬ì‹œê°„ < ì‹œì‘ì‹œê°„__ ì¸ ë°© ëª©ë¡ì„ ë³´ì—¬ì¤€ë‹¤.
      * History ê·¸ë£¹ì€ __ì¢…ë£Œì‹œê°„__ ì´ ì¡´ì¬í•˜ëŠ” ë°© ëª©ë¡ì„ ë³´ì—¬ì¤€ë‹¤.
### ì‹¤í–‰í™”ë©´
* gif
### í–¥í›„ ê³„íš
  * Secure ì½”ë”©
  * ë‹¤ì–‘í•œ ìƒí™©ì— ëŒ€ì²˜í•˜ëŠ” ì˜¤ë¥˜ì²˜ë¦¬
  * ì½”ë“œ ìŠ¤íƒ€ì¼ ê°œì„ 

## ğŸ“Œ ëª©ì°¨
- [ì‹œì‘í•˜ê¸°](#ì‹œì‘í•˜ê¸°)   
  - [ì„¤ì¹˜í•˜ê¸°](#ì„¤ì¹˜í•˜ê¸°)
  - [ì‹¤í–‰í•˜ê¸°](#ì‹¤í–‰í•˜ê¸°)
  - [ë°°í¬í™˜ê²½](#ë°°í¬í™˜ê²½)
  - [ë°°í¬í•˜ê¸°](#ë°°í¬í•˜ê¸°)
- [ì—­í• ](#ì—­í• )
- [í”„ë¡œì íŠ¸ ëª…ì„¸](#í”„ë¡œì íŠ¸-ëª…ì„¸)
  - [ê°œë°œ í™˜ê²½](#ê°œë°œ-í™˜ê²½)
  - [ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜](#ì‹œìŠ¤í…œ-ì•„í‚¤í…ì²˜)
  - [ë°ì´í„°ë² ì´ìŠ¤](#ë°ì´í„°ë² ì´ìŠ¤)
  - [í•µì‹¬ ë¼ì´ë¸ŒëŸ¬ë¦¬](#í•µì‹¬-ë¼ì´ë¸ŒëŸ¬ë¦¬)

- [ë””ë ‰í† ë¦¬ êµ¬ì¡°](#ë””ë ‰í† ë¦¬-êµ¬ì¡°)   
- [ì„œë¹„ìŠ¤ ìƒì„¸](#ì„œë¹„ìŠ¤-ìƒì„¸)
  - [Controller](#Controller)
  - [WebSocket](#WebSocket)
  - [Router](#Router)
  - [ì‚¬ìš©ì ì‹œë‚˜ë¦¬ì˜¤](#ì‚¬ìš©ì-ì‹œë‚˜ë¦¬ì˜¤)
  - [ê¸°íƒ€ ë¼ì´ë¸ŒëŸ¬ë¦¬](#ê¸°íƒ€-ë¼ì´ë¸ŒëŸ¬ë¦¬)
<br>

<br>

## ì‹œì‘í•˜ê¸°
### ì„¤ì¹˜í•˜ê¸°
1. ê¹ƒí—™ì˜ ë ˆí¬ì§€í† ë¦¬ë¥¼ í´ë¡ í•©ë‹ˆë‹¤.
    ```
    $ git clone https://lab.ssafy.com/s05-webmobile1-sub3/S05P13A107.git
    ```
2. frontend í´ë” ë‚´ë¶€ì—ì„œ node_modules ë¥¼ ì„¤ì¹˜í•©ë‹ˆë‹¤.
    ```
    $ npm install
    ```

### ì‹¤í–‰í•˜ê¸°
1. kms container ì‹¤í–‰
    ```    
    $ docker ps -a
    $ docker container start {kms container id}
    ```
2. springboot í”„ë¡œì íŠ¸ ì‹¤í–‰
    ```
    $ cd ~/springboot
    $ mvn spring-boot:run &
    (&ì„ ë¶™ì´ë©´ backgroundì—ì„œ ì‹¤í–‰)
    ```
3. webrtc í”„ë¡œì íŠ¸ ì‹¤í–‰
    ```
    $ cd ~/webrtc
    $ mvn -U clean spring-boot:run -Dspring-boot.run.jvmArguments="-Dkms.url=wss://localhost:8433/kurento" & 

    # (&ì„ ë¶™ì´ë©´ backgroundì—ì„œ ì‹¤í–‰)
    ```
    
4. ë¸Œë¼ìš°ì €ë¥¼ í†µí•´ ì ‘ì† (í¬ë¡¬ ë¶€ë¼ìš°ì € ê¶Œì¥)

### ë°°í¬í™˜ê²½
- __URL__ : https://i5a107.p.ssafy.io
- __ë°°í¬ ì—¬ë¶€__ : O 
- __ì ‘ì† ê°€ëŠ¥__ : ì ‘ì† ê°€ëŠ¥
- __HTTPS ì ìš©__ : O 
- __PORT__ : 8443
### ë°°í¬í•˜ê¸°

#### 1. Front-End Node Modules Install
* /frontendì—ì„œ npm install
#### 2. Front-End Build into /backend/webrtc/src/main/resources/static
* vue.config.jsì˜ outputDir í™•ì¸
* npm build
#### 3. WinSCPë¥¼ ì´ìš©í•´ì„œ /backend/webrtc í”„ë¡œì íŠ¸ EC2ì— ì—…ë¡œë“œ
#### 4. WinSCPë¥¼ ì´ìš©í•´ì„œ /backend/springboot í”„ë¡œì íŠ¸ EC2ì— ì—…ë¡œë“œ

#### 5. Kurento Media Server ì„¤ì •

* 5-1. EC2ì—ì„œ dockerë¥¼ ì´ìš©í•˜ì—¬ kmsë¥¼ ê¸°ë³¸ ì„¤ì •í•©ë‹ˆë‹¤.

    [Installation Guide - Kurento 6.16.0 documentation](https://doc-kurento.readthedocs.io/en/stable/user/installation.html#docker-image)

* 5-2. kms containerë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤.
    ```
    $ docker ps -a
    $ docker container start {kms container id} 
    ```
* 5-3. kms serverì— ì¸ì¦ í‚¤ ì •ë³´ë¥¼ ì €ì¥í•©ë‹ˆë‹¤.
    (1) WinSCPë¥¼ ì´ìš©í•´ì„œ /backend/webrtc/server.pemì„ EC2ì— ì—…ë¡œë“œ
    (2) EC2ì˜ server.pemì„ kms containerì˜ kurenot.conf.jsonê³¼ ê°™ì€ ê²½ë¡œì— ì—…ë¡œë“œ
        ```
         $ dokcer cp server.pem {kms container id}:/etc/kurento/
         ```
    (3) docker exec -it {kms container id} /bin/bash
    (4) vi /etc/kurento/kurento.conf.json
        * mediaServer > net > websocket > secure > port,certificate,password ì£¼ì„ í•´ì œ
        * certificateì˜ ê°’ì„ server.pemìœ¼ë¡œ ë³€ê²½í›„ ì €ì¥ (passwordëŠ” ì—†ìœ¼ë¯€ë¡œ "")
    (5) containerì—ì„œ ë‚˜ì™€ì„œ kms container restart
    ```
         $ docker container restart {kms container id}
    ```
#### ì°¸ê³ 
 * [Securing Kurento Applications - Kurento 6.16.0 documentation](https://doc-kurento.readthedocs.io/en/stable/features/security.html)

#### 6. EC2ì˜ ë³´ì•ˆ ê·œì¹™ ë³€ê²½

* 6-1. 22ë²ˆ í¬íŠ¸ (putty ssh ì ‘ì†), 80ë²ˆ í¬íŠ¸(http), 443ë²ˆ í¬íŠ¸(https) í—ˆìš©
    ```
    $ sudo ufw allow {port#}
    $ sudo ufw allow {port#}/tcp
    $ sudo ufw allow {port#}/udp
    ```
* 6-2. EC2 ë°©í™”ë²½ ì‹¤í–‰
    ```
    $ sudo ufw enable
    ```

#### 7. Port Forwarding

* 7-1. 80ë²ˆ, 443ë²ˆ í¬íŠ¸ë¥¼  8443ë²ˆ í¬íŠ¸ë¡œ Port Forwarding
    ```
    $ sudo iptables -t nat -A PREROUTING -p tcp --dport 80 -j REDIRECT --to-port 8443
    $ sudo iptables -t nat -A PREROUTING -p tcp --dport 443 -j REDIRECT --to-port 8443
    ```
* 7-2. iptablesì˜ ì •ë³´ë¥¼ ì˜êµ¬ì ìœ¼ë¡œ ì €ì¥
    ```
    $ sudo apt install netfilter-persistent iptables-persistent
    $ sudo netfilter-persistent save
    ```
* 7-3. EC2 ì¬ë¶€íŒ…
    ```
    $ sudo reboot
    ```
##### ì°¸ê³ 
* [Port forwarding with iptables](https://www.cogini.com/blog/port-forwarding-with-iptables/)



## ì—­í• 
### ê¹€ë¯¼ì§€(BE)
* Kurento MCU
* Room API
* JPQL
* ë¬¸ì„œ ì •ë¦¬
### ê¹€ì• ì€(BE)
* JPA, JPQL
* User, Room, File API
* Controller, Service
* ë¬¸ì„œ ì •ë¦¬
### ì†ë™ìš°(BE)
* Kurento MCU
* Socket Message
* File API
* ë¬¸ì„œ ì •ë¦¬
### ìš°ë§ŒìŠ¹(FE)
* Kurento Utils
* ë¯¸íŒ…ë£¸
* ë°œí‘œìë£Œ ì œì–´
### ì •ì§„ì£¼(FE)
* íšŒì›ê´€ë¦¬
* ëŒ€ì‹œë³´ë“œ
* ì˜ìƒì œì‘
<br>

## í”„ë¡œì íŠ¸ ëª…ì„¸

### ê°œë°œ í™˜ê²½
#### Front-end

- HTML5, CSS3, JS(ES6)
- Bootstrap5
- Vue.js, Vuex
- Visual Studio Code


#### Back-end
- Java
- Spring Boot, Spring MVC, Spring Data JPA
- JPA, JPQL
- Maven
- MySQL
- Intellij, Eclipse STS

#### DevOps

- AWS EC2
- Docker


#### Collaboration
- Jira
- Gitlab, Sourcetree, GithubDesktop
- Mattermost
- [Notion](https://www.notion.so/7-FOCUS-a4db4765db0d47059f1a743e2e87347c)
<br>



### ì‹œìŠ¤í…œ ì•„í‚¤í…ì³

### ë°ì´í„°ë² ì´ìŠ¤
![](https://i.imgur.com/i5uIiJE.png)

### í•µì‹¬ ë¼ì´ë¸ŒëŸ¬ë¦¬
- __Kurento MCU ì„œë²„__
  - __ë§í¬__ : https://doc-kurento.readthedocs.io/en/latest/tutorials/java/tutorial-groupcall.html
  - __ì†Œê°œ__ : KurentoëŠ” WebRTC ë¯¸ë””ì–´ ì„œë²„ì´ì WWW ë° ìŠ¤ë§ˆíŠ¸í° í”Œë«í¼ìš© ë¹„ë””ì˜¤ ì• í”Œë¦¬ì¼€ì´ì…˜ ê°œë°œì„ ê°„ë‹¨í•˜ê²Œ í•´ì£¼ëŠ” í´ë¼ì´ì–¸íŠ¸ APIì…ë‹ˆë‹¤.
  - __ì‚¬ìš© ê¸°ëŠ¥__ : ê·¸ë£¹ì½œ ê¸°ëŠ¥
- __kurento-utils__
    -  __ì†Œê°œ__ :ë¸Œë¼ìš°ì €ì˜ WebRTC APIë¥¼ ì œì–´í•˜ê¸° ìœ„í•´ RTCPeerConnection ê°ì²´ì˜ ìƒì„± ë° ì²˜ë¦¬ë¥¼ ë‹¨ìˆœí™”í•˜ëŠ” ë° ì‚¬ìš©ëœ ìë°”ìŠ¤í¬ë¦½íŠ¸ ê¸°ë°˜ì˜ Kurento ìœ í‹¸ë¦¬í‹° ë¼ì´ë¸ŒëŸ¬ë¦¬.
    -  __ì‚¬ìš© ê¸°ëŠ¥__ : ë°œí‘œìë£Œ ì œì–´


<br>

## ë””ë ‰í† ë¦¬ êµ¬ì¡°
### Frontend > [ë³´ëŸ¬ê°€ê¸°âœ”]()
### Backend > [ë³´ëŸ¬ê°€ê¸°âœ”]()


<br>

## ì„œë¹„ìŠ¤ ìƒì„¸
### Controller > [ë³´ëŸ¬ê°€ê¸°âœ”]()
### WebSocket > [ë³´ëŸ¬ê°€ê¸°âœ”]()
### Component > [ë³´ëŸ¬ê°€ê¸°âœ”]()
### ì‚¬ìš©ì ì‹œë‚˜ë¦¬ì˜¤ > [ë³´ëŸ¬ê°€ê¸°âœ”]()
### ê¸°íƒ€ ë¼ì´ë¸ŒëŸ¬ë¦¬ > [ë³´ëŸ¬ê°€ê¸°âœ”]()

<br>


